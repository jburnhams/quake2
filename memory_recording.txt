Refactoring monolithic entity files (like triggers.ts) into a directory structure (entities/triggers/) improves maintainability and testability. When doing so, ensure all consumers (spawn.ts, tests) are updated to the new path (triggers/index.ts). For legacy Quake 2 behavior, verify specific functions like `centerprintf` vs `warn` for player feedback. Mocking `EntitySystem` in tests requires careful implementation of `useTargets` if testing trigger chains.
