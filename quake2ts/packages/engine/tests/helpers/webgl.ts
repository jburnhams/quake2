import { vi } from 'vitest';

export const createMockGL = () => {
    return {
        canvas: { width: 800, height: 600 },
        createShader: vi.fn().mockReturnValue({}),
        shaderSource: vi.fn(),
        compileShader: vi.fn(),
        getShaderParameter: vi.fn().mockReturnValue(true),
        getShaderInfoLog: vi.fn(),
        createProgram: vi.fn().mockReturnValue({}),
        attachShader: vi.fn(),
        linkProgram: vi.fn(),
        getProgramParameter: vi.fn().mockReturnValue(true),
        getProgramInfoLog: vi.fn(),
        useProgram: vi.fn(),
        createBuffer: vi.fn().mockReturnValue({}),
        bindBuffer: vi.fn(),
        bufferData: vi.fn(),
        enableVertexAttribArray: vi.fn(),
        vertexAttribPointer: vi.fn(),
        uniformMatrix4fv: vi.fn(),
        uniform1i: vi.fn(),
        uniform1f: vi.fn(),
        uniform2f: vi.fn(),
        uniform3f: vi.fn(),
        uniform4f: vi.fn(),
        drawArrays: vi.fn(),
        drawElements: vi.fn(),
        createTexture: vi.fn().mockReturnValue({}),
        bindTexture: vi.fn(),
        texImage2D: vi.fn(),
        texParameteri: vi.fn(),
        activeTexture: vi.fn(),
        enable: vi.fn(),
        disable: vi.fn(),
        blendFunc: vi.fn(),
        depthFunc: vi.fn(),
        clear: vi.fn(),
        clearColor: vi.fn(),
        viewport: vi.fn(),
        getExtension: vi.fn(),
        getParameter: vi.fn(),
        deleteTexture: vi.fn(),
        deleteProgram: vi.fn(),
        deleteShader: vi.fn(),
        deleteBuffer: vi.fn(),
        cullFace: vi.fn(),
        frontFace: vi.fn(),
        depthMask: vi.fn(),
        pixelStorei: vi.fn(),
        texSubImage2D: vi.fn(),
        getUniformLocation: vi.fn().mockReturnValue({}),
        getAttribLocation: vi.fn().mockReturnValue(0),

        // Constants
        VERTEX_SHADER: 0x8B31,
        FRAGMENT_SHADER: 0x8B30,
        COMPILE_STATUS: 0x8B81,
        LINK_STATUS: 0x8B82,
        ARRAY_BUFFER: 0x8892,
        ELEMENT_ARRAY_BUFFER: 0x8893,
        STATIC_DRAW: 0x88E4,
        FLOAT: 0x1406,
        TEXTURE_2D: 0x0DE1,
        RGBA: 0x1908,
        UNSIGNED_BYTE: 0x1401,
        LINEAR: 0x2601,
        NEAREST: 0x2600,
        CLAMP_TO_EDGE: 0x812F,
        TEXTURE_MIN_FILTER: 0x2801,
        TEXTURE_MAG_FILTER: 0x2800,
        TEXTURE_WRAP_S: 0x2802,
        TEXTURE_WRAP_T: 0x2803,
        TEXTURE0: 0x84C0,
        BLEND: 0x0BE2,
        DEPTH_TEST: 0x0B71,
        SRC_ALPHA: 0x0302,
        ONE_MINUS_SRC_ALPHA: 0x0303,
        COLOR_BUFFER_BIT: 0x4000,
        DEPTH_BUFFER_BIT: 0x0100,
        TRIANGLES: 0x0004,
        CULL_FACE: 0x0B44,
        BACK: 0x0405,
        LESS: 0x0201,
        UNPACK_ALIGNMENT: 0x0CF5,
        MAX_TEXTURE_SIZE: 0x0D33,

        // WebGL2
        texImage3D: vi.fn(),
        texSubImage3D: vi.fn(),
        createVertexArray: vi.fn().mockReturnValue({}),
        deleteVertexArray: vi.fn(),
        bindVertexArray: vi.fn(),
        TEXTURE_3D: 0x806F,
        TEXTURE_2D_ARRAY: 0x8C1A,
        RED: 0x1903,
        RG: 0x8227,
        R8: 0x8229,
        RG8: 0x822B,
    };
};
