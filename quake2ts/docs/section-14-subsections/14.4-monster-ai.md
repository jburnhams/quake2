# Section 14.4: Monster AI Issues

**Priority**: P1 | **Effort**: 4-6 weeks | **Parallel**: Yes (per monster)

## 1. Medic Resurrection
- **File**: `packages/game/src/entities/monsters/medic.ts`
- **Source**: `../rerelease/m_medic.cpp:387-500`
- **Current**: Single-frame heal | **Correct**: 9-frame cable animation
- [x] Add FRAME_attack42-51 animation sequence
- [x] Add TE_MEDIC_CABLE_ATTACK visual effect
- [x] Implement distance checking during resurrection (400 units max)
- [x] Add multi-try logic with badMedic tracking
- [x] Proper entity respawn via ED_CallSpawn equivalent
- [x] Test: Medic resurrects corpse with cable visible

## 2. Medic Commander
- **Source**: `../rerelease/m_medic.cpp` (monster_medic_commander)
- **Missing entirely**
- [x] Add medic_commander variant (600 HP vs 300)
- [x] Implement reinforcement spawning system
- [x] Add spawn animation (FRAME_attack33-55)
- [x] Test: Commander spawns reinforcements

## 3. Berserk Jump Attack
- **File**: `packages/game/src/entities/monsters/berserk.ts`
- **Source**: `../rerelease/m_berserk.cpp:350-420`
- [x] Add `berserk_high_gravity` variable gravity during jump
- [x] Implement `T_SlamRadiusDamage` (300 kick, 165 radius)
- [x] Add `berserk_jump_touch` collision handler
- [x] Add SPAWNFLAG_BERSERK_NOJUMPING support
- [x] Test: Jump creates shockwave, damages nearby

## 4. Soldier Variants
- **File**: `packages/game/src/entities/monsters/soldier.ts`
- **Source**: `../rerelease/m_soldier.cpp`
- **Current**: 3 variants | **Correct**: 6 variants
- [x] Add soldier_ripper (50 HP, ripper weapon)
- [x] Add soldier_hypergun (60 HP, hyperblaster)
- [x] Add soldier_lasergun (70 HP, laser weapon)
- [x] Implement missing weapon attacks
- [x] Test: All 6 variants spawn and attack correctly

## 5. Tank Blindfire System
- **File**: `packages/game/src/entities/monsters/tank.ts`
- **Source**: `../rerelease/m_tank.cpp` + `g_ai.cpp`
- **Missing**: AI_MANUAL_STEERING, blindfire targeting
- [x] Add blind_fire_target tracking
- [x] Implement M_AdjustBlindfireTarget
- [x] Enable shooting around corners
- [x] Test: Tank shoots at player behind cover

## 6. Gunner Missing Features
- **File**: `packages/game/src/entities/monsters/gunner.ts`
- **Source**: `../rerelease/m_gunner.cpp`
- [ ] Add fidget animation (FRAME_stand31-70, 40 frames)
- [ ] Add run-and-shoot (FRAME_runs01-06)
- [ ] Add jump sequences (gunner_move_jump, gunner_move_jump2)
- [ ] Add 3 pain sequences (currently only 1)
- [ ] Implement duck behavior
- [ ] Test: Gunner has full animation set

## Notes
- Each monster can be fixed independently
- Reference exact frame counts from m_*.cpp files
- Many monsters missing 50%+ of animations
- Priority: Medic > Berserk > Soldier > others
